---
id: 1
title: 1.纠缠鲁棒性
sidebar_position: 1
---

jQuery 的定位语法主要基于 **CSS 选择器**，并扩展了一些自定义选择器，用于在 DOM 中查找和操作元素。以下是核心内容：

## 一、基础选择器

### 1. 基本选择器
```javascript
$("#id")              // ID选择器
$(".class")           // 类选择器
$("element")          // 标签选择器
$("*")                // 所有元素
$("selector1, selector2") // 多选择器
```

### 2. 层级选择器
```javascript
$("parent > child")   // 直接子元素
$("ancestor descendant") // 后代元素
$("prev + next")      // 相邻兄弟元素
$("prev ~ siblings")  // 后续兄弟元素
```

## 二、属性选择器
```javascript
$("[attribute]")                // 拥有该属性
$("[attribute='value']")        // 属性等于值
$("[attribute!='value']")       // 属性不等于值
$("[attribute^='value']")       // 属性以值开头
$("[attribute$='value']")       // 属性以值结尾
$("[attribute*='value']")       // 属性包含值
$("[attribute~='value']")       // 属性包含单词（空格分隔）
$("[attribute|='value']")       // 属性以值开头（连字符分隔）
```

## 三、表单选择器
```javascript
$(":input")           // 所有表单元素
$(":text")            // 文本输入框
$(":password")        // 密码框
$(":radio")           // 单选框
$(":checkbox")        // 复选框
$(":submit")          // 提交按钮
$(":reset")           // 重置按钮
$(":button")          // 按钮
$(":image")           // 图片按钮
$(":file")            // 文件上传
$(":hidden")          // 隐藏元素
$(":enabled")         // 可用元素
$(":disabled")        // 禁用元素
$(":checked")         // 选中的复选框/单选框
$(":selected")        // 选中的option
```

## 四、内容过滤选择器
```javascript
$(":contains('text')")    // 包含指定文本
$(":empty")               // 空元素
$(":parent")              // 非空元素
$(":has(selector)")       // 包含特定子元素
```

## 五、可见性过滤
```javascript
$(":visible")          // 可见元素
$(":hidden")           // 隐藏元素
```

## 六、子元素过滤
```javascript
$(":first-child")      // 第一个子元素
$(":last-child")       // 最后一个子元素
$(":nth-child(n)")     // 第n个子元素
$(":only-child")       // 唯一子元素
```

## 七、jQuery 扩展选择器
```javascript
$(":first")            // 第一个匹配元素
$(":last")             // 最后一个匹配元素
$(":even")             // 偶数索引元素（0开始）
$(":odd")              // 奇数索引元素
$(":eq(index)")        // 指定索引元素
$(":gt(index)")        // 大于索引的元素
$(":lt(index)")        // 小于索引的元素
$(":not(selector)")    // 排除选择器
$(":animated")         // 正在动画的元素
$(":focus")            // 当前聚焦的元素
$(":header")           // 所有标题元素（h1-h6）
```

## 八、方法定位（DOM遍历）

### 1. 向上遍历
```javascript
$().parent()           // 直接父元素
$().parents()          // 所有祖先元素
$().parentsUntil()     // 祖先直到指定元素
$().closest()          // 最近的匹配祖先
```

### 2. 向下遍历
```javascript
$().children()         // 直接子元素
$().find()             // 后代元素
$().contents()         // 所有子节点（包括文本）
```

### 3. 同级遍历
```javascript
$().siblings()         // 所有兄弟元素
$().next()             // 下一个兄弟元素
$().nextAll()          // 后面所有兄弟元素
$().nextUntil()        // 后面直到指定元素
$().prev()             // 前一个兄弟元素
$().prevAll()          // 前面所有兄弟元素
$().prevUntil()        // 前面直到指定元素
```

## 九、筛选方法
```javascript
$().filter()           // 过滤匹配集合
$().not()              // 排除匹配元素
$().first()            // 第一个元素
$().last()             // 最后一个元素
$().eq()               // 指定索引元素
$().slice()            // 切片选择
$().has()              // 包含特定后代的元素
$().is()               // 检查是否匹配选择器
```

## 示例组合
```javascript
// 复杂选择示例
$("div.container > p:first")          // container下第一个p
$("tr:even")                          // 偶数行tr
$("input[name^='user']:visible")      // name以user开头的可见input
$("ul li:has(a):not(.disabled)")      // 包含a链接且没有disabled类的li
$("#form1 :input:enabled")            // form1中所有启用的表单元素
```

## 性能建议
1. **ID选择器最快**：`$("#id")`
2. 尽量使用 **原生方法** 与 **选择器结合**
3. **缓存** jQuery 对象
   ```javascript
   var $elements = $(".my-class");
   $elements.addClass("active");
   ```

这些选择器和方法组合使用，可以非常灵活地定位和操作 DOM 元素。
